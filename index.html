<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>pinterval</title><meta name="description" content="Documentation for pinterval"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">pinterval</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>pinterval</h1></div><div class="tsd-panel tsd-typography"><h1 id="pinterval" class="tsd-anchor-link">pinterval<a href="#pinterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1>
<blockquote>
<p>Advanced interval management for JavaScript/TypeScript</p>
</blockquote>
<p><a href="https://www.npmjs.com/package/pinterval"><img src="https://badge.fury.io/js/pinterval.svg" alt="npm version"></a>
<a href="https://github.com/ziflex/pinterval/actions"><img src="https://github.com/ziflex/pinterval/workflows/Node%20CI/badge.svg" alt="Actions Status"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p>A powerful and flexible interval management library that goes beyond JavaScript's native <code>setInterval</code>. Perfect for background tasks, polling, retries, and complex scheduling scenarios with built-in support for async/await, error handling, and dynamic timing strategies.</p>
<h2 id="table-of-contents" class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#why-pinterval">Why pinterval?</a></li>
<li><a href="#api-documentation">API Documentation</a></li>
<li><a href="#core-concepts">Core Concepts</a>
<ul>
<li><a href="#interval-class">Interval Class</a></li>
<li><a href="#start-modes">Start Modes</a></li>
<li><a href="#auto-stop-mechanism">Auto-Stop Mechanism</a></li>
<li><a href="#error-handling">Error Handling</a></li>
</ul>
</li>
<li><a href="#helper-functions">Helper Functions</a>
<ul>
<li><a href="#poll">poll</a></li>
<li><a href="#until">until</a></li>
<li><a href="#retry">retry</a></li>
<li><a href="#times">times</a></li>
<li><a href="#pipeline">pipeline</a></li>
<li><a href="#sleep">sleep</a></li>
</ul>
</li>
<li><a href="#duration-functions">Duration Functions</a>
<ul>
<li><a href="#constant">constant</a></li>
<li><a href="#linear">linear</a></li>
<li><a href="#exponential">exponential</a></li>
<li><a href="#fibonacci">fibonacci</a></li>
<li><a href="#jittered">jittered</a></li>
<li><a href="#decorrelatedjitter">decorrelatedJitter</a></li>
<li><a href="#steps">steps</a></li>
</ul>
</li>
<li><a href="#real-world-examples">Real-World Examples</a></li>
<li><a href="#typescript-support">TypeScript Support</a></li>
<li><a href="#comparison-with-native-setinterval">Comparison with Native setInterval</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#development">Development</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li>✅ <strong>Async/Await Support</strong> - Native promise support for asynchronous operations</li>
<li>✅ <strong>Graceful Error Handling</strong> - Built-in error handling with customizable recovery strategies</li>
<li>✅ <strong>Dynamic Intervals</strong> - Calculate interval duration dynamically based on iteration count</li>
<li>✅ <strong>Auto-Stop Mechanism</strong> - Automatically stop intervals based on return values</li>
<li>✅ <strong>Rich Helper Functions</strong> - Pre-built utilities for common patterns (polling, retries, pipelines)</li>
<li>✅ <strong>Backoff Strategies</strong> - Multiple built-in duration functions for sophisticated retry logic</li>
<li>✅ <strong>TypeScript First</strong> - Full TypeScript support with comprehensive type definitions</li>
<li>✅ <strong>Zero Dependencies</strong> - Minimal footprint with absolutely no dependencies</li>
<li>✅ <strong>Production Ready</strong> - Battle-tested and actively maintained</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Install using your preferred package manager:</p>
<pre><code class="bash"><span class="hl-0"># npm</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">install</span><span class="hl-2"> </span><span class="hl-4">--save</span><span class="hl-2"> </span><span class="hl-3">pinterval</span><br/><br/><span class="hl-0"># yarn</span><br/><span class="hl-1">yarn</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">pinterval</span><br/><br/><span class="hl-0"># pnpm</span><br/><span class="hl-1">pnpm</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">pinterval</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Create a simple interval</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// Start the interval</span><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><br/><span class="hl-0">// Stop when needed</span><br/><span class="hl-1">setTimeout</span><span class="hl-2">(() </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">stop</span><span class="hl-2">(), </span><span class="hl-8">5000</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="why-pinterval" class="tsd-anchor-link">Why pinterval?<a href="#why-pinterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>JavaScript's native <code>setInterval</code> has several limitations:</p>
<ul>
<li>No native async/await support</li>
<li>No built-in error handling</li>
<li>Fixed intervals only (no dynamic timing)</li>
<li>No automatic cleanup on errors</li>
<li>Callback-based API</li>
</ul>
<p><code>pinterval</code> solves all these problems with a modern, Promise-based API that's perfect for:</p>
<ul>
<li><strong>Polling APIs</strong> - Check for updates with intelligent backoff</li>
<li><strong>Background Tasks</strong> - Run periodic maintenance with error recovery</li>
<li><strong>Retry Logic</strong> - Implement sophisticated retry strategies</li>
<li><strong>Health Checks</strong> - Monitor services with adaptive intervals</li>
<li><strong>Rate Limiting</strong> - Control execution frequency dynamically</li>
<li><strong>Data Synchronization</strong> - Sync data with automatic error handling</li>
</ul>
<h2 id="api-documentation" class="tsd-anchor-link">API Documentation<a href="#api-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Full API documentation is available at <a href="http://ziflex.github.io/pinterval">http://ziflex.github.io/pinterval</a></p>
<h2 id="core-concepts" class="tsd-anchor-link">Core Concepts<a href="#core-concepts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="interval-class" class="tsd-anchor-link">Interval Class<a href="#interval-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The <code>Interval</code> class is the core building block of pinterval. It provides a flexible way to execute functions repeatedly with configurable timing and error handling.</p>
<h4 id="basic-usage" class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><br/><span class="hl-0">// Stop when needed</span><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">stop</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<h4 id="constructor-parameters" class="tsd-anchor-link">Constructor Parameters<a href="#constructor-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<pre><code class="typescript"><span class="hl-4">interface</span><span class="hl-2"> </span><span class="hl-9">Params</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">func</span><span class="hl-2">: (() </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">boolean</span><span class="hl-2"> | </span><span class="hl-9">void</span><span class="hl-2">) | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">boolean</span><span class="hl-2"> | </span><span class="hl-9">void</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-6">time</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-2">?: (</span><span class="hl-6">err</span><span class="hl-2">: </span><span class="hl-9">Error</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">boolean</span><span class="hl-2"> | </span><span class="hl-9">void</span><span class="hl-2">;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><strong>func</strong> - Function to execute on each interval. Can be sync or async (returns Promise)</li>
<li><strong>time</strong> - Interval duration in milliseconds or a function that calculates it dynamically</li>
<li><strong>start</strong> - When to execute the first tick: <code>'delayed'</code> (default) waits for first timeout, <code>'immediate'</code> executes immediately</li>
<li><strong>onError</strong> - Optional error handler. Return <code>true</code> to continue, <code>false</code> to stop</li>
</ul>
<h4 id="methods" class="tsd-anchor-link">Methods<a href="#methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4>
<ul>
<li><strong>start()</strong> - Starts the interval. Throws if already running.</li>
<li><strong>stop()</strong> - Stops the interval. Throws if already stopped.</li>
<li><strong>isRunning</strong> - Property that returns <code>true</code> if the interval is currently running.</li>
</ul>
<h3 id="start-modes" class="tsd-anchor-link">Start Modes<a href="#start-modes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Control when your interval executes for the first time:</p>
<pre><code class="typescript"><span class="hl-0">// Delayed start (default): waits for timeout before first execution</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">delayedInterval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;First execution after 1 second&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;delayed&#39;</span><span class="hl-2"> </span><span class="hl-0">// or omit this, it&#39;s the default</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// Immediate start: executes immediately, then waits for timeout</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">immediateInterval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Executes immediately!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="auto-stop-mechanism" class="tsd-anchor-link">Auto-Stop Mechanism<a href="#auto-stop-mechanism" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>If your function returns <code>false</code>, the interval automatically stops. This is useful for self-terminating intervals.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">counter</span><span class="hl-2"> = </span><span class="hl-8">0</span><span class="hl-2">;</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">counter</span><span class="hl-2">++;</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Tick </span><span class="hl-4">${</span><span class="hl-6">counter</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Stop after 10 ticks</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">counter</span><span class="hl-2"> &lt; </span><span class="hl-8">10</span><span class="hl-2">;</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Will automatically stop after 10 executions</span>
</code><button type="button">Copy</button></pre>

<h3 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Comprehensive error handling with both synchronous and asynchronous error handlers:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Synchronous error handler</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// This might throw</span><br/><span class="hl-2">        </span><span class="hl-1">riskyOperation</span><span class="hl-2">();</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-6">:</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;Error occurred:&#39;</span><span class="hl-2">, </span><span class="hl-6">err</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Return false to stop, true to continue</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2"> </span><span class="hl-4">instanceof</span><span class="hl-2"> </span><span class="hl-9">FatalError</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">false</span><span class="hl-2">; </span><span class="hl-0">// Stop interval</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Continue with next tick</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// Asynchronous error handler</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">asyncInterval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;https://api.example.com/data&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">;</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">5000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2">: </span><span class="hl-9">Error</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// Log error to remote service</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;https://logging-service.com/log&#39;</span><span class="hl-2">, {</span><br/><span class="hl-2">            </span><span class="hl-6">method:</span><span class="hl-2"> </span><span class="hl-3">&#39;POST&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">body:</span><span class="hl-2"> </span><span class="hl-7">JSON</span><span class="hl-2">.</span><span class="hl-1">stringify</span><span class="hl-2">({ </span><span class="hl-6">error:</span><span class="hl-2"> </span><span class="hl-6">err</span><span class="hl-2">.</span><span class="hl-6">message</span><span class="hl-2"> })</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Decide whether to continue</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">err</span><span class="hl-2">.</span><span class="hl-6">message</span><span class="hl-2"> !== </span><span class="hl-3">&#39;FATAL&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Error Handler Return Values:</strong></p>
<ul>
<li><code>true</code> - Continue interval execution (schedules next tick)</li>
<li><code>false</code> - Stop interval execution</li>
<li><code>undefined</code> or no return - Stops interval execution</li>
<li>If error handler itself throws, the interval stops</li>
</ul>
<h3 id="async-support" class="tsd-anchor-link">Async Support<a href="#async-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Native support for asynchronous functions with proper race condition prevention:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// The next tick won&#39;t start until this Promise resolves</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">data</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;https://api.example.com/status&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">json</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">data</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Status:&#39;</span><span class="hl-2">, </span><span class="hl-6">json</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Can return false to stop</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">json</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2"> !== </span><span class="hl-3">&#39;completed&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">2000</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<p><strong>Key Points:</strong></p>
<ul>
<li>Each tick waits for the Promise to resolve before scheduling the next one</li>
<li>No race conditions - async operations won't overlap</li>
<li>Interval timing starts <strong>after</strong> async operation completes</li>
<li>Return <code>false</code> from async function to stop the interval</li>
</ul>
<h3 id="dynamic-duration" class="tsd-anchor-link">Dynamic Duration<a href="#dynamic-duration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Calculate interval duration dynamically based on the iteration count:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Exponential backoff</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-1">time</span><span class="hl-6">:</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">minTimeout</span><span class="hl-2"> = </span><span class="hl-8">500</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">maxTimeout</span><span class="hl-2"> = </span><span class="hl-8">10000</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">timeout</span><span class="hl-2"> = </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">round</span><span class="hl-2">(</span><span class="hl-6">minTimeout</span><span class="hl-2"> * </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">pow</span><span class="hl-2">(</span><span class="hl-8">2</span><span class="hl-2">, </span><span class="hl-6">counter</span><span class="hl-2"> - </span><span class="hl-8">1</span><span class="hl-2">));</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">min</span><span class="hl-2">(</span><span class="hl-6">timeout</span><span class="hl-2">, </span><span class="hl-6">maxTimeout</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Executions at: 500ms, 1000ms, 2000ms, 4000ms, 8000ms, 10000ms, 10000ms...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Counter Parameter:</strong></p>
<ul>
<li>Starts at <code>1</code> for the first execution</li>
<li>Increments with each tick</li>
<li>Useful for implementing backoff strategies</li>
</ul>
<p>For complex timing strategies, see the <a href="#duration-functions">Duration Functions</a> section.</p>
<h2 id="helper-functions" class="tsd-anchor-link">Helper Functions<a href="#helper-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>pinterval provides several high-level helper functions for common patterns. All helpers are Promise-based and work seamlessly with async/await.</p>
<h3 id="poll" class="tsd-anchor-link">poll<a href="#poll" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Repeatedly checks a condition until it returns <code>true</code>. Perfect for waiting on asynchronous operations. By default, the first check happens immediately.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">poll</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Wait for a condition to be true (checks immediately, then every 1 second)</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">status</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">checkStatus</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">status</span><span class="hl-2"> === </span><span class="hl-3">&#39;ready&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">}, </span><span class="hl-8">1000</span><span class="hl-2">);</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Condition met!&#39;</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-1">predicate</span><span class="hl-2">: () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">boolean</span><span class="hl-2"> | </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">boolean</span><span class="hl-2">&gt;,</span><br/><span class="hl-2">    </span><span class="hl-6">timeout</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">void</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>predicate</strong> - Function that returns <code>true</code> when condition is met</li>
<li><strong>timeout</strong> - Interval duration in milliseconds or duration function</li>
<li><strong>start</strong> - Start mode: <code>'immediate'</code> (default) or <code>'delayed'</code></li>
</ul>
<p><strong>Example with immediate start:</strong></p>
<pre><code class="typescript"><span class="hl-0">// Check immediately, then every 5 seconds (default behavior)</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> (</span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/status&#39;</span><span class="hl-2">)).</span><span class="hl-6">ok</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">5000</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Example with delayed start:</strong></p>
<pre><code class="typescript"><span class="hl-0">// Wait 5 seconds before first check, then every 5 seconds</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> (</span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/status&#39;</span><span class="hl-2">)).</span><span class="hl-6">ok</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">5000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="until" class="tsd-anchor-link">until<a href="#until" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Similar to <code>poll</code>, but returns the value from the predicate once it's defined (not <code>undefined</code>). By default, the first check happens immediately.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">until</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Wait until we get actual data (checks immediately, then every 2 seconds)</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">data</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">until</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/data&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">json</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">json</span><span class="hl-2">.</span><span class="hl-6">data</span><span class="hl-2">; </span><span class="hl-0">// Returns value once available</span><br/><span class="hl-2">}, </span><span class="hl-8">2000</span><span class="hl-2">);</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Data received:&#39;</span><span class="hl-2">, </span><span class="hl-6">data</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">until</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2">&gt;(</span><br/><span class="hl-2">    </span><span class="hl-1">predicate</span><span class="hl-2">: () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">T</span><span class="hl-2"> | </span><span class="hl-9">undefined</span><span class="hl-2"> | </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2"> | </span><span class="hl-9">undefined</span><span class="hl-2">&gt;,</span><br/><span class="hl-2">    </span><span class="hl-6">timeout</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>predicate</strong> - Function that returns a value when condition is met, or <code>undefined</code> to continue polling</li>
<li><strong>timeout</strong> - Interval duration in milliseconds or duration function</li>
<li><strong>start</strong> - Start mode: <code>'immediate'</code> (default) or <code>'delayed'</code></li>
</ul>
<p><strong>Key Difference from poll:</strong></p>
<ul>
<li><code>poll</code> - Waits for <code>true</code>, returns <code>void</code></li>
<li><code>until</code> - Waits for non-<code>undefined</code> value, returns that value</li>
</ul>
<h3 id="retry" class="tsd-anchor-link">retry<a href="#retry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Executes a function with retry logic. Stops after reaching the maximum attempts or when a truthy value is returned.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Retry up to 5 times with 2 second intervals</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/resource&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">; </span><span class="hl-0">// Will retry</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-8">5</span><span class="hl-2">,      </span><span class="hl-0">// max attempts</span><br/><span class="hl-2">    </span><span class="hl-8">2000</span><span class="hl-2">    </span><span class="hl-0">// interval between attempts</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2">&gt;(</span><br/><span class="hl-2">    </span><span class="hl-1">predicate</span><span class="hl-2">: (</span><span class="hl-6">attempt</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">T</span><span class="hl-2"> | </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2">&gt;,</span><br/><span class="hl-2">    </span><span class="hl-6">attempts</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">timeout</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">T</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>predicate</strong> - Function to retry that receives the current attempt number. Return <code>undefined</code> to retry, or a value to resolve</li>
<li><strong>attempts</strong> - Maximum number of retry attempts</li>
<li><strong>timeout</strong> - Interval between retries</li>
<li><strong>start</strong> - Start mode: <code>'immediate'</code> (default) or <code>'delayed'</code></li>
</ul>
<p><strong>With exponential backoff:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetchData</span><span class="hl-2">();</span><br/><span class="hl-2">        } </span><span class="hl-5">catch</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">; </span><span class="hl-0">// Retry on error</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">exponential</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">30000</span><span class="hl-2">) </span><span class="hl-0">// 1s, 2s, 4s, 8s, 16s, 30s, 30s...</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="times" class="tsd-anchor-link">times<a href="#times" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Executes a function a specific number of times with an interval between executions. By default, the first execution happens immediately.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">times</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Execute immediately, then 4 more times with 1 second between executions</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">times</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Execution </span><span class="hl-4">${</span><span class="hl-6">counter</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">updateMetrics</span><span class="hl-2">(</span><span class="hl-6">counter</span><span class="hl-2">);</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-8">5</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">1000</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;All executions completed!&#39;</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">times</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-1">predicate</span><span class="hl-2">: (</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">void</span><span class="hl-2"> | </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">void</span><span class="hl-2">&gt;,</span><br/><span class="hl-2">    </span><span class="hl-6">amount</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">timeout</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">void</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>predicate</strong> - Function to execute. Receives counter (1-based) as parameter</li>
<li><strong>amount</strong> - Number of times to execute</li>
<li><strong>timeout</strong> - Interval between executions</li>
<li><strong>start</strong> - Start mode: <code>'immediate'</code> (default) or <code>'delayed'</code></li>
</ul>
<h3 id="pipeline" class="tsd-anchor-link">pipeline<a href="#pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Sequentially executes an array of functions with intervals between them. Each function receives the output of the previous one.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">pipeline</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">pipeline</span><span class="hl-2">([</span><br/><span class="hl-2">    () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2">,</span><br/><span class="hl-2">    (</span><span class="hl-6">x</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">x</span><span class="hl-2"> * </span><span class="hl-8">2</span><span class="hl-2">,      </span><span class="hl-0">// receives 1, returns 2</span><br/><span class="hl-2">    (</span><span class="hl-6">x</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">x</span><span class="hl-2"> + </span><span class="hl-8">3</span><span class="hl-2">,      </span><span class="hl-0">// receives 2, returns 5</span><br/><span class="hl-2">    (</span><span class="hl-6">x</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">x</span><span class="hl-2"> * </span><span class="hl-8">4</span><span class="hl-2">       </span><span class="hl-0">// receives 5, returns 20</span><br/><span class="hl-2">], </span><span class="hl-8">100</span><span class="hl-2">);</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-6">result</span><span class="hl-2">); </span><span class="hl-0">// 20</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">pipeline</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-6">predicates</span><span class="hl-2">: </span><span class="hl-9">Array</span><span class="hl-2">&lt;(</span><span class="hl-6">data</span><span class="hl-2">: </span><span class="hl-9">any</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">any</span><span class="hl-2"> | </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">any</span><span class="hl-2">&gt;&gt;,</span><br/><span class="hl-2">    </span><span class="hl-6">timeout</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> | ((</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">start</span><span class="hl-2">?: </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2"> | </span><span class="hl-3">&#39;delayed&#39;</span><br/><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">any</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Important Notes:</strong></p>
<ul>
<li>First function executes with 0 timeout when <code>start: 'immediate'</code> (default)</li>
<li>Each subsequent function waits for the timeout</li>
<li>Output of each function is passed to the next</li>
<li>Perfect for multi-stage data processing</li>
</ul>
<p><strong>Async pipeline example:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">pipeline</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">pipeline</span><span class="hl-2">([</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/users&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">response</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">(),</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">users</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">users</span><span class="hl-2">.</span><span class="hl-1">filter</span><span class="hl-2">(</span><span class="hl-6">u</span><span class="hl-2"> </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">u</span><span class="hl-2">.</span><span class="hl-6">active</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">activeUsers</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">saveToDatabase</span><span class="hl-2">(</span><span class="hl-6">activeUsers</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">activeUsers</span><span class="hl-2">.</span><span class="hl-6">length</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">], </span><span class="hl-8">500</span><span class="hl-2">);</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Processed </span><span class="hl-4">${</span><span class="hl-6">result</span><span class="hl-4">}</span><span class="hl-3"> active users`</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="sleep" class="tsd-anchor-link">sleep<a href="#sleep" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Simple utility to pause execution for a specified duration.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">sleep</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Starting...&#39;</span><span class="hl-2">);</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-8">2000</span><span class="hl-2">);</span><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;2 seconds later...&#39;</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">sleep</span><span class="hl-2">(</span><span class="hl-6">time</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">void</span><span class="hl-2">&gt;</span>
</code><button type="button">Copy</button></pre>

<h2 id="duration-functions" class="tsd-anchor-link">Duration Functions<a href="#duration-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Starting with v3.7.0, pinterval includes a collection of duration calculation functions for dynamic interval scheduling. These are perfect for implementing sophisticated retry and backoff strategies.</p>
<p>All duration functions are available under the <code>duration</code> namespace and follow this signature:</p>
<pre><code class="typescript"><span class="hl-4">type</span><span class="hl-2"> </span><span class="hl-9">DurationFunction</span><span class="hl-2"> = (</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">number</span><span class="hl-2">;</span>
</code><button type="button">Copy</button></pre>

<p>The <code>counter</code> parameter starts at 1 for the first execution and increments with each tick.</p>
<h3 id="constant" class="tsd-anchor-link">constant<a href="#constant" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Returns the same duration for every execution. Useful for fixed intervals.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">constant</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">)</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Executes every 1000ms: 1000, 1000, 1000, 1000...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">constant</span><span class="hl-2">(</span><span class="hl-6">ms</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Use Cases:</strong></p>
<ul>
<li>Fixed interval polling</li>
<li>Regular health checks</li>
<li>Consistent retry delays</li>
</ul>
<h3 id="linear" class="tsd-anchor-link">linear<a href="#linear" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Increases duration linearly by a fixed increment on each iteration.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">linear</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">50</span><span class="hl-2">)</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Executes at: 100ms, 150ms, 200ms, 250ms, 300ms...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">linear</span><span class="hl-2">(</span><span class="hl-6">initial</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">, </span><span class="hl-6">increment</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>initial</strong> - Starting duration in milliseconds</li>
<li><strong>increment</strong> - Amount to increase (or decrease if negative) per iteration</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Gradual slowdown for polling</li>
<li>Progressive backoff with predictable growth</li>
<li>Testing and debugging scenarios</li>
</ul>
<p><strong>Decreasing intervals:</strong></p>
<pre><code class="typescript"><span class="hl-0">// Start fast, get slower by 100ms each time</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">decreasing</span><span class="hl-2"> = </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">linear</span><span class="hl-2">(</span><span class="hl-8">2000</span><span class="hl-2">, -</span><span class="hl-8">100</span><span class="hl-2">);</span><br/><span class="hl-0">// Executes at: 2000ms, 1900ms, 1800ms, 1700ms...</span>
</code><button type="button">Copy</button></pre>

<h3 id="exponential" class="tsd-anchor-link">exponential<a href="#exponential" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Doubles the duration on each iteration with an optional maximum cap. This is the standard backoff strategy used in many systems.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Exponential backoff for retries</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetchData</span><span class="hl-2">(),</span><br/><span class="hl-2">    </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">exponential</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">10000</span><span class="hl-2">)</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// Executes at: 100ms, 200ms, 400ms, 800ms, 1600ms, 3200ms, 6400ms, 10000ms, 10000ms...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">exponential</span><span class="hl-2">(</span><span class="hl-6">initial</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">, </span><span class="hl-6">max</span><span class="hl-2">?: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>initial</strong> - Starting duration in milliseconds</li>
<li><strong>max</strong> - Optional maximum duration cap</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Standard retry backoff strategy</li>
<li>Network request retries</li>
<li>Database reconnection attempts</li>
<li>API rate limiting</li>
</ul>
<p><strong>Without cap:</strong></p>
<pre><code class="typescript"><span class="hl-0">// Unbounded exponential growth</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">uncapped</span><span class="hl-2"> = </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">exponential</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">);</span><br/><span class="hl-0">// Executes at: 100ms, 200ms, 400ms, 800ms, 1600ms, 3200ms, 6400ms...</span>
</code><button type="button">Copy</button></pre>

<h3 id="fibonacci" class="tsd-anchor-link">fibonacci<a href="#fibonacci" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Uses the Fibonacci sequence for duration calculation. Provides gentler growth than exponential backoff.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">fibonacci</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">)</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Executes at: 100ms, 100ms, 200ms, 300ms, 500ms, 800ms, 1300ms...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">fibonacci</span><span class="hl-2">(</span><span class="hl-6">initial</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>initial</strong> - Base duration in milliseconds (used for F(0) and F(1))</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Gentler backoff than exponential</li>
<li>Natural growth patterns</li>
<li>Alternative retry strategy when exponential is too aggressive</li>
</ul>
<h3 id="jittered" class="tsd-anchor-link">jittered<a href="#jittered" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Adds randomness to exponential backoff to prevent the &quot;thundering herd&quot; problem where multiple clients retry simultaneously.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Add ±10% randomness to prevent synchronized retries</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetchData</span><span class="hl-2">(),</span><br/><span class="hl-2">    </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">jittered</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">30000</span><span class="hl-2">, </span><span class="hl-8">0.1</span><span class="hl-2">)</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// Example execution times (with ±10% jitter):</span><br/><span class="hl-0">// ~1000ms (900-1100), ~2000ms (1800-2200), ~4000ms (3600-4400)...</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">jittered</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-6">initial</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">max</span><span class="hl-2">?: </span><span class="hl-9">number</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">jitterFactor</span><span class="hl-2">?: </span><span class="hl-9">number</span><br/><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>initial</strong> - Starting duration in milliseconds</li>
<li><strong>max</strong> - Optional maximum duration cap</li>
<li><strong>jitterFactor</strong> - Amount of randomness (default: 0.1 = ±10%)</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Distributed system retries</li>
<li>Preventing thundering herd problem</li>
<li>Load distribution across time</li>
<li>API rate limiting with multiple clients</li>
</ul>
<p><strong>Custom jitter:</strong></p>
<pre><code class="typescript"><span class="hl-0">// ±25% randomness</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">highJitter</span><span class="hl-2"> = </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">jittered</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">10000</span><span class="hl-2">, </span><span class="hl-8">0.25</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// ±5% randomness  </span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">lowJitter</span><span class="hl-2"> = </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">jittered</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">10000</span><span class="hl-2">, </span><span class="hl-8">0.05</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="decorrelatedjitter" class="tsd-anchor-link">decorrelatedJitter<a href="#decorrelatedjitter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>AWS-recommended jitter strategy where each delay is based on the previous delay, not the iteration count. This is a stateful function.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// AWS-style decorrelated jitter</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetchData</span><span class="hl-2">(),</span><br/><span class="hl-2">    </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">decorrelatedJitter</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">10000</span><span class="hl-2">)</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// Each delay is random(0, previous_delay * 3), capped at max</span><br/><span class="hl-0">// Provides excellent distribution for distributed systems</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">decorrelatedJitter</span><span class="hl-2">(</span><span class="hl-6">initial</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">, </span><span class="hl-6">max</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>initial</strong> - Starting duration in milliseconds</li>
<li><strong>max</strong> - Maximum duration cap (required)</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>AWS SDK retry logic</li>
<li>Best-practice distributed retries</li>
<li>Optimal backoff with jitter</li>
<li>Production-ready retry strategies</li>
</ul>
<p><strong>Important Note:</strong></p>
<p>This function is stateful - each instance maintains internal state. Create a new instance for each interval:</p>
<pre><code class="typescript"><span class="hl-0">// ✅ Correct: new instance per interval</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval1</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">task1</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">decorrelatedJitter</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">5000</span><span class="hl-2">)</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval2</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">task2</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">decorrelatedJitter</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">5000</span><span class="hl-2">)</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// ❌ Wrong: sharing instance causes unexpected behavior</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">sharedDuration</span><span class="hl-2"> = </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">decorrelatedJitter</span><span class="hl-2">(</span><span class="hl-8">100</span><span class="hl-2">, </span><span class="hl-8">5000</span><span class="hl-2">);</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval3</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({ </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">task1</span><span class="hl-2">, </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">sharedDuration</span><span class="hl-2"> });</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval4</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({ </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">task2</span><span class="hl-2">, </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">sharedDuration</span><span class="hl-2"> });</span>
</code><button type="button">Copy</button></pre>

<h3 id="steps" class="tsd-anchor-link">steps<a href="#steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Returns different durations based on counter thresholds. Perfect for phase-based intervals that change behavior over time.</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">steps</span><span class="hl-2">([</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">100</span><span class="hl-2"> },   </span><span class="hl-0">// Fast for first 5</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">5</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">500</span><span class="hl-2"> },   </span><span class="hl-0">// Medium for 5-10</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">10</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">2000</span><span class="hl-2"> }  </span><span class="hl-0">// Slow after 10</span><br/><span class="hl-2">    ])</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-0">// Counter 1-4: 100ms</span><br/><span class="hl-0">// Counter 5-9: 500ms  </span><br/><span class="hl-0">// Counter 10+: 2000ms</span>
</code><button type="button">Copy</button></pre>

<p><strong>Signature:</strong></p>
<pre><code class="typescript"><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">steps</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-6">thresholds</span><span class="hl-2">: </span><span class="hl-9">Array</span><span class="hl-2">&lt;{ </span><span class="hl-6">threshold</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">; </span><span class="hl-6">duration</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2"> }&gt;</span><br/><span class="hl-2">): </span><span class="hl-9">DurationFunction</span>
</code><button type="button">Copy</button></pre>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>thresholds</strong> - Array of threshold/duration pairs (order doesn't matter, will be sorted)</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Phase-based intervals (fast → medium → slow)</li>
<li>Polling that changes behavior over time</li>
<li>Different retry strategies per attempt range</li>
<li>Multi-stage backoff</li>
</ul>
<p><strong>Complex example:</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Aggressive at first, then back off</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetchData</span><span class="hl-2">(),</span><br/><span class="hl-2">    </span><span class="hl-8">20</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">steps</span><span class="hl-2">([</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">100</span><span class="hl-2"> },   </span><span class="hl-0">// First 3 attempts: fast (100ms)</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">3</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">500</span><span class="hl-2"> },   </span><span class="hl-0">// Attempts 3-6: medium (500ms)</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">6</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">2000</span><span class="hl-2"> },  </span><span class="hl-0">// Attempts 6-10: slow (2s)</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">10</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">5000</span><span class="hl-2"> }  </span><span class="hl-0">// Attempts 10+: very slow (5s)</span><br/><span class="hl-2">    ])</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="real-world-examples" class="tsd-anchor-link">Real-World Examples<a href="#real-world-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="health-check-with-exponential-backoff" class="tsd-anchor-link">Health Check with Exponential Backoff<a href="#health-check-with-exponential-backoff" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Monitor a service health endpoint with intelligent backoff when failures occur:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">consecutiveFailures</span><span class="hl-2"> = </span><span class="hl-8">0</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">healthCheck</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;https://api.example.com/health&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><br/><span class="hl-2">            </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) {</span><br/><span class="hl-2">                </span><span class="hl-6">consecutiveFailures</span><span class="hl-2"> = </span><span class="hl-8">0</span><span class="hl-2">;</span><br/><span class="hl-2">                </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;✓ Service is healthy&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">;</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">            </span><br/><span class="hl-2">            </span><span class="hl-6">consecutiveFailures</span><span class="hl-2">++;</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`✗ Service unhealthy (</span><span class="hl-4">${</span><span class="hl-6">consecutiveFailures</span><span class="hl-4">}</span><span class="hl-3"> failures)`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">;</span><br/><span class="hl-2">        } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-6">consecutiveFailures</span><span class="hl-2">++;</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">`✗ Health check failed: </span><span class="hl-4">${</span><span class="hl-6">error</span><span class="hl-10">.</span><span class="hl-6">message</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">consecutiveFailures</span><span class="hl-2"> &lt; </span><span class="hl-8">10</span><span class="hl-2">; </span><span class="hl-0">// Stop after 10 failures</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-1">time</span><span class="hl-6">:</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// Normal polling: 5s, on failure: exponential backoff up to 60s</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">consecutiveFailures</span><span class="hl-2"> === </span><span class="hl-8">0</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-8">5000</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">min</span><span class="hl-2">(</span><span class="hl-8">5000</span><span class="hl-2"> * </span><span class="hl-6">Math</span><span class="hl-2">.</span><span class="hl-1">pow</span><span class="hl-2">(</span><span class="hl-8">2</span><span class="hl-2">, </span><span class="hl-6">consecutiveFailures</span><span class="hl-2"> - </span><span class="hl-8">1</span><span class="hl-2">), </span><span class="hl-8">60000</span><span class="hl-2">);</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">healthCheck</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="api-polling-with-conditional-stop" class="tsd-anchor-link">API Polling with Conditional Stop<a href="#api-polling-with-conditional-stop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Poll an API until a specific condition is met:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">poll</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">waitForJobCompletion</span><span class="hl-2">(</span><span class="hl-6">jobId</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Waiting for job </span><span class="hl-4">${</span><span class="hl-6">jobId</span><span class="hl-4">}</span><span class="hl-3"> to complete...`</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">`/api/jobs/</span><span class="hl-4">${</span><span class="hl-6">jobId</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">job</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Job status: </span><span class="hl-4">${</span><span class="hl-6">job</span><span class="hl-10">.</span><span class="hl-6">status</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">job</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2"> === </span><span class="hl-3">&#39;completed&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Job completed successfully!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">job</span><span class="hl-2">.</span><span class="hl-6">status</span><span class="hl-2"> === </span><span class="hl-3">&#39;failed&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-5">throw</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Error</span><span class="hl-2">(</span><span class="hl-3">&#39;Job failed!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">false</span><span class="hl-2">; </span><span class="hl-0">// Keep polling</span><br/><span class="hl-2">    }, </span><span class="hl-8">2000</span><span class="hl-2">, </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Usage</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">waitForJobCompletion</span><span class="hl-2">(</span><span class="hl-3">&#39;job-123&#39;</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="retry-with-fallback-strategies" class="tsd-anchor-link">Retry with Fallback Strategies<a href="#retry-with-fallback-strategies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Implement sophisticated retry logic with multiple strategies:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">fetchWithRetry</span><span class="hl-2">(</span><span class="hl-6">url</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-0">// Try primary endpoint with exponential backoff</span><br/><span class="hl-2">    </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">            </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">                </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-6">url</span><span class="hl-2">);</span><br/><span class="hl-2">                </span><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">            },</span><br/><span class="hl-2">            </span><span class="hl-8">5</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">exponential</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">10000</span><span class="hl-2">),</span><br/><span class="hl-2">            </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">        );</span><br/><span class="hl-2">    } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">primaryError</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">warn</span><span class="hl-2">(</span><span class="hl-3">&#39;Primary endpoint failed, trying backup...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Fall back to backup endpoint with linear backoff</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">            </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">                </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-6">url</span><span class="hl-2">.</span><span class="hl-1">replace</span><span class="hl-2">(</span><span class="hl-3">&#39;api&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;api-backup&#39;</span><span class="hl-2">));</span><br/><span class="hl-2">                </span><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">            },</span><br/><span class="hl-2">            </span><span class="hl-8">3</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">linear</span><span class="hl-2">(</span><span class="hl-8">2000</span><span class="hl-2">, </span><span class="hl-8">1000</span><span class="hl-2">),</span><br/><span class="hl-2">            </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">        );</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="rate-limited-api-client" class="tsd-anchor-link">Rate-Limited API Client<a href="#rate-limited-api-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Implement a rate-limited API client that respects API limits:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-9">RateLimitedClient</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">private</span><span class="hl-2"> </span><span class="hl-6">queue</span><span class="hl-2">: </span><span class="hl-9">Array</span><span class="hl-2">&lt;() </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">any</span><span class="hl-2">&gt;&gt; = [];</span><br/><span class="hl-2">    </span><span class="hl-4">private</span><span class="hl-2"> </span><span class="hl-6">interval</span><span class="hl-2">: </span><span class="hl-9">Interval</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-4">constructor</span><span class="hl-2">(</span><span class="hl-6">requestsPerSecond</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">delay</span><span class="hl-2"> = </span><span class="hl-8">1000</span><span class="hl-2"> / </span><span class="hl-6">requestsPerSecond</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">                </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">queue</span><span class="hl-2">.</span><span class="hl-6">length</span><span class="hl-2"> === </span><span class="hl-8">0</span><span class="hl-2">) {</span><br/><span class="hl-2">                    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Keep running</span><br/><span class="hl-2">                }</span><br/><span class="hl-2">                </span><br/><span class="hl-2">                </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">task</span><span class="hl-2"> = </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">queue</span><span class="hl-2">.</span><span class="hl-1">shift</span><span class="hl-2">();</span><br/><span class="hl-2">                </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">task</span><span class="hl-2">) {</span><br/><span class="hl-2">                    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">task</span><span class="hl-2">();</span><br/><span class="hl-2">                }</span><br/><span class="hl-2">                </span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">;</span><br/><span class="hl-2">            },</span><br/><span class="hl-2">            </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">delay</span><span class="hl-2">,</span><br/><span class="hl-2">            </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-1">request</span><span class="hl-2">(</span><span class="hl-6">url</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">): </span><span class="hl-9">Promise</span><span class="hl-2">&lt;</span><span class="hl-9">Response</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-9">Promise</span><span class="hl-2">((</span><span class="hl-6">resolve</span><span class="hl-2">, </span><span class="hl-6">reject</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">queue</span><span class="hl-2">.</span><span class="hl-1">push</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">                </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">                    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-6">url</span><span class="hl-2">);</span><br/><span class="hl-2">                    </span><span class="hl-1">resolve</span><span class="hl-2">(</span><span class="hl-6">response</span><span class="hl-2">);</span><br/><span class="hl-2">                } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">                    </span><span class="hl-1">reject</span><span class="hl-2">(</span><span class="hl-6">error</span><span class="hl-2">);</span><br/><span class="hl-2">                }</span><br/><span class="hl-2">            });</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-1">stop</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">stop</span><span class="hl-2">();</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Usage: max 10 requests per second</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">client</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">RateLimitedClient</span><span class="hl-2">(</span><span class="hl-8">10</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// All requests are automatically rate-limited</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">responses</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-9">Promise</span><span class="hl-2">.</span><span class="hl-1">all</span><span class="hl-2">([</span><br/><span class="hl-2">    </span><span class="hl-6">client</span><span class="hl-2">.</span><span class="hl-1">request</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/users/1&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">client</span><span class="hl-2">.</span><span class="hl-1">request</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/users/2&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">client</span><span class="hl-2">.</span><span class="hl-1">request</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/users/3&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-0">// ... more requests</span><br/><span class="hl-2">]);</span>
</code><button type="button">Copy</button></pre>

<h3 id="database-connection-retry-with-jitter" class="tsd-anchor-link">Database Connection Retry with Jitter<a href="#database-connection-retry-with-jitter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Prevent thundering herd when multiple services try to reconnect to a database:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">connectToDatabase</span><span class="hl-2">(</span><span class="hl-6">config</span><span class="hl-2">: </span><span class="hl-9">DbConfig</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Attempting to connect to database...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><br/><span class="hl-2">        </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">                </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">connection</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">createConnection</span><span class="hl-2">(</span><span class="hl-6">config</span><span class="hl-2">);</span><br/><span class="hl-2">                </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">connection</span><span class="hl-2">.</span><span class="hl-1">ping</span><span class="hl-2">();</span><br/><span class="hl-2">                </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;✓ Database connected&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">connection</span><span class="hl-2">;</span><br/><span class="hl-2">            } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">                </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`✗ Connection failed (attempt </span><span class="hl-4">${</span><span class="hl-6">attempt</span><span class="hl-4">}</span><span class="hl-3">): </span><span class="hl-4">${</span><span class="hl-6">error</span><span class="hl-10">.</span><span class="hl-6">message</span><span class="hl-4">}</span><span class="hl-3">, retrying...`</span><span class="hl-2">);</span><br/><span class="hl-2">                </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">            }</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        </span><span class="hl-8">10</span><span class="hl-2">,</span><br/><span class="hl-2">        </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">jittered</span><span class="hl-2">(</span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-8">30000</span><span class="hl-2">, </span><span class="hl-8">0.2</span><span class="hl-2">), </span><span class="hl-0">// ±20% jitter</span><br/><span class="hl-2">        </span><span class="hl-3">&#39;immediate&#39;</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="multi-stage-data-processing-pipeline" class="tsd-anchor-link">Multi-Stage Data Processing Pipeline<a href="#multi-stage-data-processing-pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Process data through multiple stages with delays:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">pipeline</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">async</span><span class="hl-2"> </span><span class="hl-4">function</span><span class="hl-2"> </span><span class="hl-1">processUserData</span><span class="hl-2">(</span><span class="hl-6">userId</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">pipeline</span><span class="hl-2">([</span><br/><span class="hl-2">        </span><span class="hl-0">// Stage 1: Fetch user data</span><br/><span class="hl-2">        </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Stage 1: Fetching user data...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">`/api/users/</span><span class="hl-4">${</span><span class="hl-6">userId</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Stage 2: Enrich with additional data</span><br/><span class="hl-2">        </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">user</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Stage 2: Enriching data...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">orders</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">`/api/users/</span><span class="hl-4">${</span><span class="hl-6">userId</span><span class="hl-4">}</span><span class="hl-3">/orders`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> { ...</span><span class="hl-6">user</span><span class="hl-2">, </span><span class="hl-6">orders:</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">orders</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">() };</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Stage 3: Calculate analytics</span><br/><span class="hl-2">        </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">userData</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Stage 3: Computing analytics...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> {</span><br/><span class="hl-2">                ...</span><span class="hl-6">userData</span><span class="hl-2">,</span><br/><span class="hl-2">                </span><span class="hl-6">analytics:</span><span class="hl-2"> {</span><br/><span class="hl-2">                    </span><span class="hl-6">totalOrders:</span><span class="hl-2"> </span><span class="hl-6">userData</span><span class="hl-2">.</span><span class="hl-6">orders</span><span class="hl-2">.</span><span class="hl-6">length</span><span class="hl-2">,</span><br/><span class="hl-2">                    </span><span class="hl-6">totalSpent:</span><span class="hl-2"> </span><span class="hl-6">userData</span><span class="hl-2">.</span><span class="hl-6">orders</span><span class="hl-2">.</span><span class="hl-1">reduce</span><span class="hl-2">((</span><span class="hl-6">sum</span><span class="hl-2">, </span><span class="hl-6">o</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">sum</span><span class="hl-2"> + </span><span class="hl-6">o</span><span class="hl-2">.</span><span class="hl-6">amount</span><span class="hl-2">, </span><span class="hl-8">0</span><span class="hl-2">)</span><br/><span class="hl-2">                }</span><br/><span class="hl-2">            };</span><br/><span class="hl-2">        },</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Stage 4: Save to cache</span><br/><span class="hl-2">        </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">enrichedData</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Stage 4: Caching results...&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">saveToCache</span><span class="hl-2">(</span><span class="hl-3">`user:</span><span class="hl-4">${</span><span class="hl-6">userId</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">, </span><span class="hl-6">enrichedData</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">enrichedData</span><span class="hl-2">;</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    ], </span><span class="hl-8">500</span><span class="hl-2">); </span><span class="hl-0">// 500ms between stages</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Pipeline completed!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">result</span><span class="hl-2">;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="scheduled-background-task" class="tsd-anchor-link">Scheduled Background Task<a href="#scheduled-background-task" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Run a background cleanup task with dynamic timing:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">duration</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">cleanupTask</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Running cleanup task (iteration </span><span class="hl-4">${</span><span class="hl-6">counter</span><span class="hl-4">}</span><span class="hl-3">)...`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">            </span><span class="hl-0">// Clean up old records</span><br/><span class="hl-2">            </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">deleted</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">deleteOldRecords</span><span class="hl-2">();</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`✓ Cleaned up </span><span class="hl-4">${</span><span class="hl-6">deleted</span><span class="hl-4">}</span><span class="hl-3"> old records`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><br/><span class="hl-2">            </span><span class="hl-0">// Clean up temporary files</span><br/><span class="hl-2">            </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">cleanupTempFiles</span><span class="hl-2">();</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;✓ Temporary files cleaned&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Continue running</span><br/><span class="hl-2">        } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">`✗ Cleanup failed: </span><span class="hl-4">${</span><span class="hl-6">error</span><span class="hl-10">.</span><span class="hl-6">message</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Continue despite errors</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">duration</span><span class="hl-2">.</span><span class="hl-1">steps</span><span class="hl-2">([</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">0</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">60000</span><span class="hl-2"> },      </span><span class="hl-0">// First hour: every minute</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">60</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">300000</span><span class="hl-2"> },    </span><span class="hl-0">// Hours 1-5: every 5 minutes</span><br/><span class="hl-2">        { </span><span class="hl-6">threshold:</span><span class="hl-2"> </span><span class="hl-8">300</span><span class="hl-2">, </span><span class="hl-6">duration:</span><span class="hl-2"> </span><span class="hl-8">3600000</span><span class="hl-2"> }   </span><span class="hl-0">// After 5 hours: every hour</span><br/><span class="hl-2">    ]),</span><br/><span class="hl-2">    </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;delayed&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// Log error to monitoring service</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">logError</span><span class="hl-2">(</span><span class="hl-3">&#39;cleanup-task&#39;</span><span class="hl-2">, </span><span class="hl-6">err</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Continue running</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-6">cleanupTask</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="typescript-support" class="tsd-anchor-link">TypeScript Support<a href="#typescript-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>pinterval is written in TypeScript and provides full type definitions out of the box. No need for <code>@types/*</code> packages!</p>
<h3 id="type-safe-intervals" class="tsd-anchor-link">Type-Safe Intervals<a href="#type-safe-intervals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">Interval</span><span class="hl-2">, </span><span class="hl-6">Params</span><span class="hl-2">, </span><span class="hl-6">IntervalFunction</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Type-safe interval function</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-1">myFunction</span><span class="hl-2">: </span><span class="hl-9">IntervalFunction</span><span class="hl-2"> = (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Tick </span><span class="hl-4">${</span><span class="hl-6">counter</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">counter</span><span class="hl-2"> &lt; </span><span class="hl-8">10</span><span class="hl-2">;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-0">// Type-safe parameters</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">params</span><span class="hl-2">: </span><span class="hl-9">Params</span><span class="hl-2"> = {</span><br/><span class="hl-2">    </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">myFunction</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">start:</span><span class="hl-2"> </span><span class="hl-3">&#39;immediate&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-6">:</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2">: </span><span class="hl-9">Error</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-6">err</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">false</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">(</span><span class="hl-6">params</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="generic-return-types" class="tsd-anchor-link">Generic Return Types<a href="#generic-return-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Helper functions support generic types for type-safe return values:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">until</span><span class="hl-2">, </span><span class="hl-6">retry</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-4">interface</span><span class="hl-2"> </span><span class="hl-9">User</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">id</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-6">name</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-6">email</span><span class="hl-2">: </span><span class="hl-9">string</span><span class="hl-2">;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// Type-safe until</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">user</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">until</span><span class="hl-2">&lt;</span><span class="hl-9">User</span><span class="hl-2">&gt;(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/user&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">(); </span><span class="hl-0">// Typed as User</span><br/><span class="hl-2">}, </span><span class="hl-8">1000</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// user is typed as User</span><br/><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-6">user</span><span class="hl-2">.</span><span class="hl-6">email</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// Type-safe retry</span><br/><span class="hl-4">interface</span><span class="hl-2"> </span><span class="hl-9">ApiResponse</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-6">success</span><span class="hl-2">: </span><span class="hl-9">boolean</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-6">data</span><span class="hl-2">: </span><span class="hl-9">any</span><span class="hl-2">;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">result</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">&lt;</span><span class="hl-9">ApiResponse</span><span class="hl-2">&gt;(</span><br/><span class="hl-2">    </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/data&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-6">ok</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-8">5</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">2000</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="custom-duration-functions" class="tsd-anchor-link">Custom Duration Functions<a href="#custom-duration-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Create type-safe duration functions:</p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">DurationFunction</span><span class="hl-2">, </span><span class="hl-6">Interval</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// Custom duration function with full type safety</span><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-1">customDuration</span><span class="hl-2">: </span><span class="hl-9">DurationFunction</span><span class="hl-2"> = (</span><span class="hl-6">counter</span><span class="hl-2">: </span><span class="hl-9">number</span><span class="hl-2">): </span><span class="hl-9">number</span><span class="hl-2"> </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2"> &lt;= </span><span class="hl-8">3</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2"> &lt;= </span><span class="hl-8">6</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-8">2000</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-8">5000</span><span class="hl-2">;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Tick!&#39;</span><span class="hl-2">),</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">customDuration</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="comparison-with-native-setinterval" class="tsd-anchor-link">Comparison with Native setInterval<a href="#comparison-with-native-setinterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Here's why you might choose pinterval over native <code>setInterval</code>:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Native setInterval</th>
<th>pinterval</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Async/Await Support</strong></td>
<td>❌ No native support</td>
<td>✅ Built-in Promise support</td>
</tr>
<tr>
<td><strong>Error Handling</strong></td>
<td>❌ Errors crash the interval</td>
<td>✅ Graceful error handling with recovery</td>
</tr>
<tr>
<td><strong>Dynamic Intervals</strong></td>
<td>❌ Fixed interval only</td>
<td>✅ Calculate interval per iteration</td>
</tr>
<tr>
<td><strong>Auto-Stop</strong></td>
<td>❌ Manual management only</td>
<td>✅ Automatic stop on conditions</td>
</tr>
<tr>
<td><strong>Backoff Strategies</strong></td>
<td>❌ Not supported</td>
<td>✅ Multiple built-in strategies</td>
</tr>
<tr>
<td><strong>Race Conditions</strong></td>
<td>❌ Can overlap with async code</td>
<td>✅ Prevents overlapping execution</td>
</tr>
<tr>
<td><strong>Helper Functions</strong></td>
<td>❌ Build your own</td>
<td>✅ poll, retry, until, times, pipeline</td>
</tr>
<tr>
<td><strong>TypeScript</strong></td>
<td>⚠️ Basic types only</td>
<td>✅ Full TypeScript support</td>
</tr>
<tr>
<td><strong>API</strong></td>
<td>⚠️ Callback-based</td>
<td>✅ Modern Promise-based API</td>
</tr>
</tbody>
</table>
<h3 id="migration-example" class="tsd-anchor-link">Migration Example<a href="#migration-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p><strong>Before (native setInterval):</strong></p>
<pre><code class="javascript"><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">intervalId</span><span class="hl-2">;</span><br/><span class="hl-4">let</span><span class="hl-2"> </span><span class="hl-6">attempts</span><span class="hl-2"> = </span><span class="hl-8">0</span><span class="hl-2">;</span><br/><br/><span class="hl-6">intervalId</span><span class="hl-2"> = </span><span class="hl-1">setInterval</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-6">attempts</span><span class="hl-2">++;</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/status&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">data</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">data</span><span class="hl-2">.</span><span class="hl-6">ready</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-1">clearInterval</span><span class="hl-2">(</span><span class="hl-6">intervalId</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Ready!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">attempts</span><span class="hl-2"> &gt;= </span><span class="hl-8">10</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-1">clearInterval</span><span class="hl-2">(</span><span class="hl-6">intervalId</span><span class="hl-2">);</span><br/><span class="hl-2">            </span><span class="hl-5">throw</span><span class="hl-2"> </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Error</span><span class="hl-2">(</span><span class="hl-3">&#39;Max attempts reached&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    } </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">clearInterval</span><span class="hl-2">(</span><span class="hl-6">intervalId</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;Error:&#39;</span><span class="hl-2">, </span><span class="hl-6">error</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}, </span><span class="hl-8">2000</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>After (pinterval):</strong></p>
<pre><code class="typescript"><span class="hl-5">import</span><span class="hl-2"> { </span><span class="hl-6">retry</span><span class="hl-2"> } </span><span class="hl-5">from</span><span class="hl-2"> </span><span class="hl-3">&#39;pinterval&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">try</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">attempt</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">response</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">fetch</span><span class="hl-2">(</span><span class="hl-3">&#39;/api/status&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">data</span><span class="hl-2"> = </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-6">response</span><span class="hl-2">.</span><span class="hl-1">json</span><span class="hl-2">();</span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-6">data</span><span class="hl-2">.</span><span class="hl-6">ready</span><span class="hl-2"> ? </span><span class="hl-6">data</span><span class="hl-2"> : </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">    }, </span><span class="hl-8">10</span><span class="hl-2">, </span><span class="hl-8">2000</span><span class="hl-2">);</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;Ready!&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-5">catch</span><span class="hl-2"> (</span><span class="hl-6">error</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-6">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;Error:&#39;</span><span class="hl-2">, </span><span class="hl-6">error</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="best-practices" class="tsd-anchor-link">Best Practices<a href="#best-practices" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="1-choose-the-right-helper-function" class="tsd-anchor-link">1. Choose the Right Helper Function<a href="#1-choose-the-right-helper-function" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ul>
<li>Use <code>poll</code> when waiting for a boolean condition</li>
<li>Use <code>until</code> when you need to return a value</li>
<li>Use <code>retry</code> for operations with a maximum attempt limit</li>
<li>Use <code>times</code> for a fixed number of executions</li>
<li>Use <code>pipeline</code> for sequential multi-stage processing</li>
<li>Use <code>Interval</code> class for complex custom scenarios</li>
</ul>
<h3 id="2-handle-errors-appropriately" class="tsd-anchor-link">2. Handle Errors Appropriately<a href="#2-handle-errors-appropriately" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Always provide an error handler for production code:</p>
<pre><code class="typescript"><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">riskyOperation</span><span class="hl-2">();</span><br/><span class="hl-2">    },</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">5000</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">onError</span><span class="hl-6">:</span><span class="hl-2"> </span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-0">// Log to monitoring service</span><br/><span class="hl-2">        </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">logError</span><span class="hl-2">(</span><span class="hl-6">err</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-0">// Decide based on error type</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-6">err</span><span class="hl-2"> </span><span class="hl-4">instanceof</span><span class="hl-2"> </span><span class="hl-9">NetworkError</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">true</span><span class="hl-2">; </span><span class="hl-0">// Retry on network errors</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">        </span><br/><span class="hl-2">        </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-4">false</span><span class="hl-2">; </span><span class="hl-0">// Stop on other errors</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-use-appropriate-backoff-strategies" class="tsd-anchor-link">3. Use Appropriate Backoff Strategies<a href="#3-use-appropriate-backoff-strategies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ul>
<li><strong>Constant</strong>: Simple polling with no rate limiting concerns</li>
<li><strong>Linear</strong>: Gradually reduce load over time</li>
<li><strong>Exponential</strong>: Standard retry strategy, most commonly used</li>
<li><strong>Fibonacci</strong>: Gentler than exponential, good for user-facing features</li>
<li><strong>Jittered</strong>: Distributed systems with multiple clients</li>
<li><strong>DecorrelatedJitter</strong>: Production-grade distributed systems (AWS recommendation)</li>
<li><strong>Steps</strong>: Different strategies for different phases</li>
</ul>
<h3 id="4-prevent-memory-leaks" class="tsd-anchor-link">4. Prevent Memory Leaks<a href="#4-prevent-memory-leaks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Always stop intervals when they're no longer needed:</p>
<pre><code class="typescript"><span class="hl-4">class</span><span class="hl-2"> </span><span class="hl-9">MyComponent</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-4">private</span><span class="hl-2"> </span><span class="hl-6">interval</span><span class="hl-2">: </span><span class="hl-9">Interval</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-1">start</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">            </span><span class="hl-1">func</span><span class="hl-6">:</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-1">updateData</span><span class="hl-2">(),</span><br/><span class="hl-2">            </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-8">5000</span><br/><span class="hl-2">        });</span><br/><span class="hl-2">        </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">();</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-0">// Clean up when component unmounts</span><br/><span class="hl-2">    </span><span class="hl-1">cleanup</span><span class="hl-2">() {</span><br/><span class="hl-2">        </span><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2">?.</span><span class="hl-6">isRunning</span><span class="hl-2">) {</span><br/><span class="hl-2">            </span><span class="hl-4">this</span><span class="hl-2">.</span><span class="hl-6">interval</span><span class="hl-2">.</span><span class="hl-1">stop</span><span class="hl-2">();</span><br/><span class="hl-2">        }</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-choose-between-immediate-and-delayed-start" class="tsd-anchor-link">5. Choose Between Immediate and Delayed Start<a href="#5-choose-between-immediate-and-delayed-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>The default start mode is now <code>'immediate'</code> for most helper functions, which is ideal for most use cases:</p>
<pre><code class="typescript"><span class="hl-0">// ✅ Default behavior: Check immediately, then retry</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><span class="hl-6">checkStatus</span><span class="hl-2">, </span><span class="hl-8">1000</span><span class="hl-2">); </span><span class="hl-0">// Immediate by default</span><br/><br/><span class="hl-0">// Use &#39;delayed&#39; when you specifically want to wait before the first execution</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><span class="hl-6">checkStatus</span><span class="hl-2">, </span><span class="hl-8">1000</span><span class="hl-2">, </span><span class="hl-3">&#39;delayed&#39;</span><span class="hl-2">); </span><span class="hl-0">// Wait 1s before first check</span>
</code><button type="button">Copy</button></pre>

<p><strong>When to use 'delayed' mode:</strong></p>
<ul>
<li>When you need rate limiting from the very first execution</li>
<li>When polling a resource that you know won't be ready immediately</li>
<li>When you want consistent timing between all executions</li>
</ul>
<h3 id="6-test-with-shorter-intervals" class="tsd-anchor-link">6. Test with Shorter Intervals<a href="#6-test-with-shorter-intervals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<p>Use shorter timeouts during testing:</p>
<pre><code class="typescript"><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">timeout</span><span class="hl-2"> = </span><span class="hl-6">process</span><span class="hl-2">.</span><span class="hl-6">env</span><span class="hl-2">.</span><span class="hl-7">NODE_ENV</span><span class="hl-2"> === </span><span class="hl-3">&#39;test&#39;</span><span class="hl-2"> ? </span><span class="hl-8">100</span><span class="hl-2"> : </span><span class="hl-8">5000</span><span class="hl-2">;</span><br/><br/><span class="hl-4">const</span><span class="hl-2"> </span><span class="hl-7">interval</span><span class="hl-2"> = </span><span class="hl-4">new</span><span class="hl-2"> </span><span class="hl-1">Interval</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-6">func:</span><span class="hl-2"> </span><span class="hl-6">myFunction</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-6">time:</span><span class="hl-2"> </span><span class="hl-6">timeout</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="7-combine-helpers-for-complex-scenarios" class="tsd-anchor-link">7. Combine Helpers for Complex Scenarios<a href="#7-combine-helpers-for-complex-scenarios" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="typescript"><span class="hl-0">// Wait for service to be ready, then start processing</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">poll</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">isServiceReady</span><span class="hl-2">(), </span><span class="hl-8">1000</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// Now run the main task with retries</span><br/><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">times</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> (</span><span class="hl-6">counter</span><span class="hl-2">) </span><span class="hl-4">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">retry</span><span class="hl-2">(</span><span class="hl-4">async</span><span class="hl-2"> () </span><span class="hl-4">=&gt;</span><span class="hl-2"> </span><span class="hl-5">await</span><span class="hl-2"> </span><span class="hl-1">processItem</span><span class="hl-2">(</span><span class="hl-6">counter</span><span class="hl-2">), </span><span class="hl-8">3</span><span class="hl-2">, </span><span class="hl-8">1000</span><span class="hl-2">);</span><br/><span class="hl-2">}, </span><span class="hl-8">10</span><span class="hl-2">, </span><span class="hl-8">5000</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<h3 id="building-the-project" class="tsd-anchor-link">Building the Project<a href="#building-the-project" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="bash"><span class="hl-0"># Install dependencies</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">install</span><br/><br/><span class="hl-0"># Build the project</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">run</span><span class="hl-2"> </span><span class="hl-3">build</span><br/><br/><span class="hl-0"># The compiled JavaScript will be in the lib/ directory</span>
</code><button type="button">Copy</button></pre>

<h3 id="running-tests" class="tsd-anchor-link">Running Tests<a href="#running-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="bash"><span class="hl-0"># Run all tests</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">test</span><br/><br/><span class="hl-0"># Run tests in watch mode</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">run</span><span class="hl-2"> </span><span class="hl-3">test:watch</span>
</code><button type="button">Copy</button></pre>

<h3 id="linting" class="tsd-anchor-link">Linting<a href="#linting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="bash"><span class="hl-0"># Lint the code</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">run</span><span class="hl-2"> </span><span class="hl-3">lint</span><br/><br/><span class="hl-0"># Format code</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">run</span><span class="hl-2"> </span><span class="hl-3">fmt</span>
</code><button type="button">Copy</button></pre>

<h3 id="generating-documentation" class="tsd-anchor-link">Generating Documentation<a href="#generating-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<pre><code class="bash"><span class="hl-0"># Generate TypeDoc documentation</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">run</span><span class="hl-2"> </span><span class="hl-3">doc</span><br/><br/><span class="hl-0"># Documentation will be generated in docs/ directory</span>
</code><button type="button">Copy</button></pre>

<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Contributions are welcome! Please feel free to submit a Pull Request. For major changes, please open an issue first to discuss what you would like to change.</p>
<h3 id="steps-to-contribute" class="tsd-anchor-link">Steps to Contribute<a href="#steps-to-contribute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ol>
<li>Fork the repository</li>
<li>Create your feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add some amazing feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>
<h3 id="guidelines" class="tsd-anchor-link">Guidelines<a href="#guidelines" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ul>
<li>Follow the existing code style</li>
<li>Add tests for new features</li>
<li>Update documentation as needed</li>
<li>Ensure all tests pass before submitting</li>
</ul>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>This project is licensed under the MIT License - see the <a href="media/LICENSE">LICENSE</a> file for details.</p>
<h2 id="credits" class="tsd-anchor-link">Credits<a href="#credits" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Created and maintained by <a href="https://github.com/ziflex">Tim Voronov</a></p>
<h2 id="links" class="tsd-anchor-link">Links<a href="#links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><a href="https://www.npmjs.com/package/pinterval">npm package</a></li>
<li><a href="http://ziflex.github.io/pinterval">API Documentation</a></li>
<li><a href="https://github.com/ziflex/pinterval">GitHub Repository</a></li>
<li><a href="https://github.com/ziflex/pinterval/issues">Issue Tracker</a></li>
<li><a href="https://github.com/ziflex/pinterval/releases">Release Notes</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#pinterval"><span>pinterval</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#why-pinterval"><span>Why pinterval?</span></a></li><li><a href="#api-documentation"><span>API <wbr/>Documentation</span></a></li><li><a href="#core-concepts"><span>Core <wbr/>Concepts</span></a></li><li><ul><li><a href="#interval-class"><span>Interval <wbr/>Class</span></a></li><li><ul><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><a href="#constructor-parameters"><span>Constructor <wbr/>Parameters</span></a></li><li><a href="#methods"><span>Methods</span></a></li></ul></li><li><a href="#start-modes"><span>Start <wbr/>Modes</span></a></li><li><a href="#auto-stop-mechanism"><span>Auto-<wbr/>Stop <wbr/>Mechanism</span></a></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#async-support"><span>Async <wbr/>Support</span></a></li><li><a href="#dynamic-duration"><span>Dynamic <wbr/>Duration</span></a></li></ul></li><li><a href="#helper-functions"><span>Helper <wbr/>Functions</span></a></li><li><ul><li><a href="#poll"><span>poll</span></a></li><li><a href="#until"><span>until</span></a></li><li><a href="#retry"><span>retry</span></a></li><li><a href="#times"><span>times</span></a></li><li><a href="#pipeline"><span>pipeline</span></a></li><li><a href="#sleep"><span>sleep</span></a></li></ul></li><li><a href="#duration-functions"><span>Duration <wbr/>Functions</span></a></li><li><ul><li><a href="#constant"><span>constant</span></a></li><li><a href="#linear"><span>linear</span></a></li><li><a href="#exponential"><span>exponential</span></a></li><li><a href="#fibonacci"><span>fibonacci</span></a></li><li><a href="#jittered"><span>jittered</span></a></li><li><a href="#decorrelatedjitter"><span>decorrelated<wbr/>Jitter</span></a></li><li><a href="#steps"><span>steps</span></a></li></ul></li><li><a href="#real-world-examples"><span>Real-<wbr/>World <wbr/>Examples</span></a></li><li><ul><li><a href="#health-check-with-exponential-backoff"><span>Health <wbr/>Check with <wbr/>Exponential <wbr/>Backoff</span></a></li><li><a href="#api-polling-with-conditional-stop"><span>API <wbr/>Polling with <wbr/>Conditional <wbr/>Stop</span></a></li><li><a href="#retry-with-fallback-strategies"><span>Retry with <wbr/>Fallback <wbr/>Strategies</span></a></li><li><a href="#rate-limited-api-client"><span>Rate-<wbr/>Limited <wbr/>API <wbr/>Client</span></a></li><li><a href="#database-connection-retry-with-jitter"><span>Database <wbr/>Connection <wbr/>Retry with <wbr/>Jitter</span></a></li><li><a href="#multi-stage-data-processing-pipeline"><span>Multi-<wbr/>Stage <wbr/>Data <wbr/>Processing <wbr/>Pipeline</span></a></li><li><a href="#scheduled-background-task"><span>Scheduled <wbr/>Background <wbr/>Task</span></a></li></ul></li><li><a href="#typescript-support"><span>Type<wbr/>Script <wbr/>Support</span></a></li><li><ul><li><a href="#type-safe-intervals"><span>Type-<wbr/>Safe <wbr/>Intervals</span></a></li><li><a href="#generic-return-types"><span>Generic <wbr/>Return <wbr/>Types</span></a></li><li><a href="#custom-duration-functions"><span>Custom <wbr/>Duration <wbr/>Functions</span></a></li></ul></li><li><a href="#comparison-with-native-setinterval"><span>Comparison with <wbr/>Native set<wbr/>Interval</span></a></li><li><ul><li><a href="#migration-example"><span>Migration <wbr/>Example</span></a></li></ul></li><li><a href="#best-practices"><span>Best <wbr/>Practices</span></a></li><li><ul><li><a href="#1-choose-the-right-helper-function"><span>1. <wbr/>Choose the <wbr/>Right <wbr/>Helper <wbr/>Function</span></a></li><li><a href="#2-handle-errors-appropriately"><span>2. <wbr/>Handle <wbr/>Errors <wbr/>Appropriately</span></a></li><li><a href="#3-use-appropriate-backoff-strategies"><span>3. <wbr/>Use <wbr/>Appropriate <wbr/>Backoff <wbr/>Strategies</span></a></li><li><a href="#4-prevent-memory-leaks"><span>4. <wbr/>Prevent <wbr/>Memory <wbr/>Leaks</span></a></li><li><a href="#5-choose-between-immediate-and-delayed-start"><span>5. <wbr/>Choose <wbr/>Between <wbr/>Immediate and <wbr/>Delayed <wbr/>Start</span></a></li><li><a href="#6-test-with-shorter-intervals"><span>6. <wbr/>Test with <wbr/>Shorter <wbr/>Intervals</span></a></li><li><a href="#7-combine-helpers-for-complex-scenarios"><span>7. <wbr/>Combine <wbr/>Helpers for <wbr/>Complex <wbr/>Scenarios</span></a></li></ul></li><li><a href="#development"><span>Development</span></a></li><li><ul><li><a href="#building-the-project"><span>Building the <wbr/>Project</span></a></li><li><a href="#running-tests"><span>Running <wbr/>Tests</span></a></li><li><a href="#linting"><span>Linting</span></a></li><li><a href="#generating-documentation"><span>Generating <wbr/>Documentation</span></a></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#steps-to-contribute"><span>Steps to <wbr/>Contribute</span></a></li><li><a href="#guidelines"><span>Guidelines</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li><li><a href="#credits"><span>Credits</span></a></li><li><a href="#links"><span>Links</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">pinterval</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
